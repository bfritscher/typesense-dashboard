"use strict";(globalThis["webpackChunktypesense_dashboard"]=globalThis["webpackChunktypesense_dashboard"]||[]).push([[536],{20536:(e,n,l)=>{l.r(n),l.d(n,{default:()=>F});var o=l(61758),t=l(58790);const s={class:"text-h6"};function a(e,n,l,a,i,d){const y=(0,o.g2)("q-input"),m=(0,o.g2)("q-option-group"),r=(0,o.g2)("q-select"),c=(0,o.g2)("q-card-section"),u=(0,o.g2)("q-separator"),p=(0,o.g2)("q-btn"),b=(0,o.g2)("q-card-actions"),h=(0,o.g2)("q-card"),_=(0,o.g2)("q-expansion-item"),f=(0,o.g2)("q-icon"),g=(0,o.g2)("q-td"),k=(0,o.g2)("q-table"),A=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(A,{padding:""},{default:(0,o.k6)((()=>[(0,o.bF)(_,{"expand-separator":"",icon:"sym_s_add_circle","expand-icon":"sym_s_unfold_more","expanded-icon":"sym_s_unfold_less",label:(e.isUpdate?"Update":"Add")+" Synonym","header-class":"bg-primary text-white",modelValue:e.expanded,"onUpdate:modelValue":n[7]||(n[7]=n=>e.expanded=n)},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"bg-surface column"},{default:(0,o.k6)((()=>[(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,{label:"ID",modelValue:e.id,"onUpdate:modelValue":n[0]||(n[0]=n=>e.id=n),filled:"",class:"q-mb-md"},null,8,["modelValue"]),(0,o.bF)(m,{filled:"",modelValue:e.type,"onUpdate:modelValue":n[1]||(n[1]=n=>e.type=n),options:e.typeOptions,color:"primary",inline:"",class:"q-mb-md"},null,8,["modelValue","options"]),e.type===e.types.ONE_WAY?((0,o.uX)(),(0,o.Wv)(y,{key:0,filled:"","stack-label":"",label:"Root",modelValue:e.synonym.root,"onUpdate:modelValue":n[2]||(n[2]=n=>e.synonym.root=n),class:"q-mb-md"},null,8,["modelValue"])):(0,o.Q3)("",!0),(0,o.bF)(r,{filled:"",modelValue:e.synonym.synonyms,"onUpdate:modelValue":n[3]||(n[3]=n=>e.synonym.synonyms=n),multiple:"","use-chips":"","use-input":"","new-value-mode":"add","stack-label":"","hide-dropdown-icon":"",label:"Synonyms",hint:"Enter a synonym and press enter"},null,8,["modelValue"])])),_:1}),(0,o.bF)(u),(0,o.bF)(c,null,{default:(0,o.k6)((()=>[n[9]||(n[9]=(0,o.Lk)("div",{class:"text-overline"},"Optional",-1)),(0,o.bF)(r,{filled:"",modelValue:e.synonym.symbols_to_index,"onUpdate:modelValue":n[4]||(n[4]=n=>e.synonym.symbols_to_index=n),multiple:"","use-chips":"","use-input":"","new-value-mode":"add","stack-label":"","hide-dropdown-icon":"",label:"Symbols to Index",hint:"Enter a symbol (eg: +, - ) and press enter"},null,8,["modelValue"]),(0,o.bF)(y,{filled:"","stack-label":"",label:"Locale",modelValue:e.synonym.locale,"onUpdate:modelValue":n[5]||(n[5]=n=>e.synonym.locale=n),class:"q-mb-md",hint:"Leave blank to auto-detect"},null,8,["modelValue"])])),_:1}),(0,o.bF)(b,{align:"right",class:"bg-primary"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"md",padding:"sm lg",unelevated:"",color:"primary",disable:!e.isValid,onClick:n[6]||(n[6]=n=>e.createSynonym())},{default:(0,o.k6)((()=>[(0,o.eW)((0,t.v_)(e.isUpdate?"Update":"Add")+" Synonym",1)])),_:1},8,["disable"])])),_:1})])),_:1})])),_:1},8,["label","modelValue"]),(0,o.bF)(k,{class:"q-mt-md",title:"Synonyms",flat:"",bordered:"",filter:e.filter,rows:e.$store.state.node.data.synonyms,columns:e.columns,"row-key":"id",pagination:{rowsPerPage:50,sortBy:"name"}},{"top-left":(0,o.k6)((()=>[(0,o.Lk)("div",s,[(0,o.bF)(f,{size:"md",name:"sym_s_dataset_linked"}),n[10]||(n[10]=(0,o.eW)(" Synonyms"))])])),"top-right":(0,o.k6)((()=>[(0,o.bF)(y,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":n[8]||(n[8]=n=>e.filter=n),placeholder:"Search"},{append:(0,o.k6)((()=>[(0,o.bF)(f,{name:"sym_s_search"})])),_:1},8,["modelValue"])])),"body-cell-actions":(0,o.k6)((n=>[(0,o.bF)(g,{class:"text-right"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{flat:"",onClick:l=>e.editSynonym(n.row),icon:"sym_s_edit",title:"Edit"},null,8,["onClick"]),(0,o.bF)(p,{flat:"",color:"negative",onClick:l=>e.deleteSynonym(n.row.id),icon:"sym_s_delete_forever",title:"Delete"},null,8,["onClick"])])),_:2},1024)])),_:1},8,["filter","rows","columns"])])),_:1})}var i,d=l(78685),y=function(e,n,l,o){function t(e){return e instanceof l?e:new l((function(n){n(e)}))}return new(l||(l=Promise))((function(l,s){function a(e){try{d(o.next(e))}catch(n){s(n)}}function i(e){try{d(o["throw"](e))}catch(n){s(n)}}function d(e){e.done?l(e.value):t(e.value).then(a,i)}d((o=o.apply(e,n||[])).next())}))};(function(e){e["ONE_WAY"]="one-way",e["MULTI_WAY"]="multi-way"})(i||(i={}));const m=(0,o.pM)({name:"Synonyms",data(){return{expanded:0===this.$store.state.node.data.synonyms.length,filter:"",type:i.MULTI_WAY,types:i,typeOptions:[{label:"Multi-way synonyms",value:i.MULTI_WAY},{label:"One-way synonym",value:i.ONE_WAY}],synonym:{root:"",synonyms:[],locale:"",symbols_to_index:[]},id:(0,d.Ak)(),columns:[{label:"ID",name:"id",field:"id",align:"left"},{label:"Type",name:"type",align:"left",field:e=>e.root?i.ONE_WAY:i.MULTI_WAY,sortable:!0},{label:"Root",name:"root",field:"root",align:"left",sortable:!0},{label:"Synonyms",name:"synonyms",field:e=>e.synonyms.join(", "),align:"left",sortable:!0},{label:"Symbols to Index",name:"symbols_to_index",field:e=>{var n;return null===(n=e.symbols_to_index)||void 0===n?void 0:n.join(", ")},align:"left",sortable:!0},{label:"Locale",name:"locale",field:"locale",align:"left",sortable:!0},{label:"Actions",name:"actions",align:"right"}]}},computed:{isValid(){return this.synonym.synonyms.length>0&&this.id.length>0},isUpdate(){return this.$store.state.node.data.synonyms.map((e=>e.id)).includes(this.id)}},methods:{createSynonym(){return y(this,void 0,void 0,(function*(){const e={synonyms:JSON.parse(JSON.stringify(this.synonym.synonyms))};this.type===this.types.ONE_WAY&&(e.root=this.synonym.root),this.synonym.locale&&(e.locale=this.synonym.locale),this.synonym.symbols_to_index&&this.synonym.symbols_to_index.length>0&&(e.symbols_to_index=this.synonym.symbols_to_index),yield this.$store.dispatch("node/createSynonym",{id:this.id,synonym:e}),this.id=(0,d.Ak)(),this.synonym={root:"",synonyms:[],locale:"",symbols_to_index:[]},this.expanded=!1}))},editSynonym(e){this.id=e.id||(0,d.Ak)(),this.synonym=JSON.parse(JSON.stringify(e)),this.type=this.synonym.root?i.ONE_WAY:i.MULTI_WAY,this.synonym.locale=this.synonym.locale||"",this.synonym.symbols_to_index=this.synonym.symbols_to_index||[],this.expanded=!0},deleteSynonym(e){this.$q.dialog({title:"Confirm",message:`Delete synonym with id: ${e}?`,cancel:!0,persistent:!0}).onOk((()=>{this.$store.dispatch("node/deleteSynonym",e)}))}}});var r=l(12807),c=l(77716),u=l(9459),p=l(23316),b=l(44189),h=l(39270),_=l(26267),f=l(75848),g=l(10386),k=l(62669),A=l(1693),x=l(39942),V=l(50492),S=l(45262),v=l(98582),w=l.n(v);const q=(0,r.A)(m,[["render",a]]),F=q;w()(m,"components",{QPage:c.A,QExpansionItem:u.A,QCard:p.A,QCardSection:b.A,QInput:h.A,QOptionGroup:_.A,QSelect:f.A,QSeparator:g.A,QCardActions:k.A,QBtn:A.A,QTable:x.A,QIcon:V.A,QTd:S.A})}}]);