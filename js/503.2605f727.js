"use strict";(globalThis["webpackChunktypesense_dashboard"]=globalThis["webpackChunktypesense_dashboard"]||[]).push([[503],{16503:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var a=s(83673),l=s(62323);const r={class:"row"},o=(0,a._)("div",{class:"text-h5"},"System",-1),d=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"CPU",-1),n={class:"row"},i={class:"text-overline"},c=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"Memory",-1),u={class:"absolute-full flex flex-center"},m={class:"absolute-full flex justify-end"},y=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"Disk",-1),_={class:"absolute-full flex flex-center"},p={class:"absolute-full flex justify-end"},v=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"System Network",-1),b=(0,a._)("div",{class:"text-h5"},"Typesense",-1),w=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"Node",-1),f={key:0},g=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"Memory",-1),x=(0,a._)("div",{class:"text-subtitle1 q-pt-md"},"Stats",-1),h={key:0};function k(e,t,s,k,$,q){const z=(0,a.up)("q-circular-progress"),I=(0,a.up)("q-badge"),D=(0,a.up)("q-linear-progress"),W=(0,a.up)("q-card-section"),j=(0,a.up)("q-card"),B=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(B,{padding:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(j,{flat:"",bordered:"",class:"col-12 col-md-8 q-mb-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[o,d,(0,a._)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(e.$store.state.node.data.metrics).filter((e=>e.includes("cpu"))),(t=>((0,a.wg)(),(0,a.iD)("div",{class:"column flex-center flex-wrap q-ma-md",key:t},[(0,a._)("span",i,(0,l.zw)(t.split("_")[1]),1),(0,a.Wm)(z,{"show-value":"",class:"text-accent",value:parseFloat(e.$store.state.node.data.metrics[t]),size:"50px",color:"accent","track-color":"grey-3"},null,8,["value"])])))),128))]),c,(0,a.Wm)(D,{size:"25px",value:parseInt(e.$store.state.node.data.metrics.system_memory_used_bytes,10)/parseInt(e.$store.state.node.data.metrics.system_memory_total_bytes,10),color:"accent"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a.Wm)(I,{color:"white","text-color":"accent",label:e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_memory_used_bytes,10))},null,8,["label"])]),(0,a._)("div",m,[(0,a.Wm)(I,{color:"white","text-color":"accent",label:e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_memory_total_bytes,10))},null,8,["label"])])])),_:1},8,["value"]),y,(0,a.Wm)(D,{size:"25px",value:parseInt(e.$store.state.node.data.metrics.system_disk_used_bytes,10)/parseInt(e.$store.state.node.data.metrics.system_disk_total_bytes,10),color:"accent"},{default:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(I,{color:"white","text-color":"accent",label:e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_disk_used_bytes,10))},null,8,["label"])]),(0,a._)("div",p,[(0,a.Wm)(I,{color:"white","text-color":"accent",label:e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_disk_total_bytes,10))},null,8,["label"])])])),_:1},8,["value"]),v,(0,a._)("div",null," Received: "+(0,l.zw)(e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_network_received_bytes,10)))+" Sent: "+(0,l.zw)(e.prettyBytes(parseInt(e.$store.state.node.data.metrics.system_network_sent_bytes,10))),1)])),_:1})])),_:1}),(0,a.Wm)(j,{flat:"",bordered:"",class:"col-12 col-md-3 offset-md-1 q-mb-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>{var t,s,r;return[b,w,(0,a._)("div",null,"Protocole: "+(0,l.zw)(null===(t=e.$store.state.node.loginData)||void 0===t?void 0:t.node.protocol),1),(0,a._)("div",null,"Host: "+(0,l.zw)(null===(s=e.$store.state.node.loginData)||void 0===s?void 0:s.node.host),1),(0,a._)("div",null,"Port: "+(0,l.zw)(null===(r=e.$store.state.node.loginData)||void 0===r?void 0:r.node.port),1),(0,a._)("div",null,"Version: "+(0,l.zw)(e.$store.state.node.data.debug.version),1),Object.hasOwnProperty.call(e.$store.state.node.data.debug,"state")?((0,a.wg)(),(0,a.iD)("div",f,"Role: "+(0,l.zw)(1===e.$store.state.node.data.debug.state?"Leader":"Follower"),1)):(0,a.kq)("",!0),g,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(e.$store.state.node.data.metrics).filter((e=>e.includes("typesense"))),(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},(0,l.zw)(t.split("_")[2])+" : "+(0,l.zw)(t.includes("bytes")?e.prettyBytes(parseInt(e.$store.state.node.data.metrics[t],10)):e.$store.state.node.data.metrics[t]),1)))),128)),x,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.node.data.stats,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s},[e.isObject(t)?((0,a.wg)(),(0,a.iD)("div",h,[(0,a.Uk)((0,l.zw)(s)+" ",1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},(0,l.zw)(t)+" : "+(0,l.zw)(e),1)))),128))])):(0,a.kq)("",!0)])))),128))]})),_:1})])),_:1})])])),_:1})}var $=s(45785);const q=(0,a.aZ)({name:"serverStatus",data(){return{refreshInterval:void 0}},mounted(){this.refreshInterval=window.setInterval((()=>{this.$store.dispatch("node/refreshServerStatus")}),2e3)},methods:{prettyBytes:$.Z,isObject(e){return"object"===typeof e}},beforeUnmount(){window.clearInterval(this.refreshInterval)}});var z=s(74260),I=s(24379),D=s(10151),W=s(25589),j=s(86122),B=s(51598),Z=s(69721),S=s(7518),P=s.n(S);const C=(0,z.Z)(q,[["render",k]]),O=C;P()(q,"components",{QPage:I.Z,QCard:D.Z,QCardSection:W.Z,QCircularProgress:j.Z,QLinearProgress:B.Z,QBadge:Z.Z})}}]);