"use strict";(self["webpackChunktypesense_dashboard"]=self["webpackChunktypesense_dashboard"]||[]).push([[383],{49375:(e,o,t)=>{t.d(o,{Z:()=>f});var n=t(83673);const l={ref:"editorWrapper",class:"col relative-position overflow-hidden editorWrapper"},a={ref:"editorElement",class:"absolute-top-left"};function i(e,o,t,i,d,s){const r=(0,n.up)("q-resize-observer");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(r,{onResize:e.onResize},null,8,["onResize"]),(0,n._)("div",a,null,512)],512)}var d=t(19966),s=t(61959);const r=(0,n.aZ)({name:"MonacoEditor",props:{modelValue:{type:String,default:""},options:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:o}){const t=(0,s.iH)(null),l=(0,s.iH)(null);let a;return(0,n.bv)((()=>{a=d.editor.create(t.value,Object.assign({value:e.modelValue,language:"json",theme:"vs-dark",minimap:{enabled:!1}},e.options)),a.onDidChangeModelContent((()=>{o("update:modelValue",null===a||void 0===a?void 0:a.getValue())}))})),(0,n.Ah)((()=>{null===a||void 0===a||a.dispose()})),(0,n.YP)((()=>e.modelValue),(()=>{var o;e.modelValue!==(null===a||void 0===a?void 0:a.getValue())&&(null===(o=null===a||void 0===a?void 0:a.getModel())||void 0===o||o.setValue(e.modelValue),null===a||void 0===a||a.setScrollPosition({scrollTop:0}))})),{editorElement:t,editorWrapper:l,onResize(){null===a||void 0===a||a.layout({height:0,width:0}),window.setTimeout((()=>{null===a||void 0===a||a.layout({height:l.value.offsetHeight,width:l.value.offsetWidth})}))}}}});var u=t(74260),c=t(15151),p=t(7518),m=t.n(p);const v=(0,u.Z)(r,[["render",i],["__scopeId","data-v-46f34a38"]]),f=v;m()(r,"components",{QResizeObserver:c.Z})},48383:(e,o,t)=>{t.r(o),t.d(o,{default:()=>g});var n=t(83673),l=t(62323);const a={class:"row justify-between q-mb-md"},i={class:"text-h5"},d=(0,n.Uk)("Drop Collection");function s(e,o,t,s,r,u){const c=(0,n.up)("q-btn"),p=(0,n.up)("monaco-editor"),m=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(m,{padding:"",class:"column"},{default:(0,n.w5)((()=>{var t;return[(0,n._)("div",a,[(0,n._)("div",i," Schema for "+(0,l.zw)(null===(t=e.$store.state.node.currentCollection)||void 0===t?void 0:t.name),1),(0,n.Wm)(c,{unelevated:"",color:"negative",onClick:o[0]||(o[0]=o=>{var t;return e.drop((null===(t=e.$store.state.node.currentCollection)||void 0===t?void 0:t.name)||"")})},{default:(0,n.w5)((()=>[d])),_:1})]),(0,n.Wm)(p,{"model-value":e.schema,options:{readOnly:!0}},null,8,["model-value"])]})),_:1})}var r=t(49375);const u=(0,n.aZ)({name:"Schema",components:{MonacoEditor:r.Z},computed:{schema(){const e=this.$store.state.node.currentCollection;return e?JSON.stringify({name:e.name,fields:e.fields.map((e=>({name:e.name,type:e.type,facet:e.facet,optional:e.optional,index:e.index}))),default_sorting_field:e.default_sorting_field},null,2):""}},methods:{drop(e){this.$q.dialog({title:"Confirm",message:`Drop ${e} and all documents?`,cancel:!0,persistent:!0}).onOk((()=>{this.$store.dispatch("node/dropCollection",e)}))}}});var c=t(74260),p=t(24379),m=t(48240),v=t(7518),f=t.n(v);const h=(0,c.Z)(u,[["render",s]]),g=h;f()(u,"components",{QPage:p.Z,QBtn:m.Z})}}]);