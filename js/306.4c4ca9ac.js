"use strict";(globalThis["webpackChunktypesense_dashboard"]=globalThis["webpackChunktypesense_dashboard"]||[]).push([[306],{78306:(e,t,o)=>{o.r(t),o.d(t,{default:()=>q});var s=o(61758),l=o(58790);const d={class:"text-h6"};function a(e,t,o,a,n,r){const i=(0,s.g2)("q-input"),c=(0,s.g2)("q-btn"),p=(0,s.g2)("q-select"),u=(0,s.g2)("q-card-section"),m=(0,s.g2)("q-banner"),w=(0,s.g2)("q-card-actions"),b=(0,s.g2)("q-card"),f=(0,s.g2)("q-expansion-item"),h=(0,s.g2)("q-icon"),g=(0,s.g2)("q-chip"),_=(0,s.g2)("q-td"),S=(0,s.g2)("q-table"),k=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(k,{padding:""},{default:(0,s.k6)((()=>[(0,s.bF)(f,{"expand-separator":"",icon:"sym_s_add_circle","expand-icon":"sym_s_unfold_more","expanded-icon":"sym_s_unfold_less",label:(e.isUpdate?"Update":"Add")+" Stopwords Set","header-class":"bg-primary text-white",modelValue:e.expanded,"onUpdate:modelValue":t[4]||(t[4]=t=>e.expanded=t)},{default:(0,s.k6)((()=>[(0,s.bF)(b,{class:"bg-surface column"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{class:"q-col-gutter-md row"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{class:"col-12 col-sm-6",modelValue:e.stopwordsSet.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.stopwordsSet.id=t),label:"ID",filled:"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,s.bF)(i,{filled:"",label:"Locale",modelValue:e.stopwordsSet.locale,"onUpdate:modelValue":t[1]||(t[1]=t=>e.stopwordsSet.locale=t),class:"col-12 col-sm-4"},null,8,["modelValue"]),(0,s.bF)(c,{type:"a",icon:"sym_s_help","no-caps":"",color:"info",flat:"",dense:"",href:`https://typesense.org/docs/${e.$store.state.node.data.debug.version}/api/stopwords.html`,target:"_blank"},{default:(0,s.k6)((()=>t[6]||(t[6]=[(0,s.eW)(" Documentation ")]))),_:1},8,["href"]),(0,s.bF)(p,{class:"col-12",filled:"",modelValue:e.stopwordsSet.stopwords,"onUpdate:modelValue":t[2]||(t[2]=t=>e.stopwordsSet.stopwords=t),multiple:"","use-chips":"","use-input":"","new-value-mode":"add","stack-label":"","hide-dropdown-icon":"",label:"Stopwords",hint:"Enter a stopword and press enter"},null,8,["modelValue"])])),_:1}),e.jsonError?((0,s.uX)(),(0,s.Wv)(m,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:(0,s.k6)((()=>[(0,s.eW)(" Invalid Format: "+(0,l.v_)(e.jsonError),1)])),_:1})):(0,s.Q3)("",!0),(0,s.bF)(w,{align:"right",class:"bg-primary"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{size:"md",padding:"sm lg",unelevated:"",color:"primary",disable:!!e.jsonError,onClick:t[3]||(t[3]=t=>e.createStopwordsSet())},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(e.isUpdate?"Update":"Add")+" Set ",1)])),_:1},8,["disable"])])),_:1})])),_:1})])),_:1},8,["label","modelValue"]),(0,s.bF)(S,{class:"q-mt-md",title:"Search Presets",flat:"",bordered:"","wrap-cells":"",filter:e.filter,rows:e.$store.state.node.data.stopwords,columns:e.columns,"row-key":"id"},{"top-left":(0,s.k6)((()=>[(0,s.Lk)("div",d,[(0,s.bF)(h,{size:"md",name:"sym_s_playlist_remove"}),t[7]||(t[7]=(0,s.eW)(" Stopwords Sets "))])])),"top-right":(0,s.k6)((()=>[(0,s.bF)(i,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[5]||(t[5]=t=>e.filter=t),placeholder:"Search"},{append:(0,s.k6)((()=>[(0,s.bF)(h,{name:"sym_s_search"})])),_:1},8,["modelValue"])])),"body-cell-stopwords":(0,s.k6)((e=>[(0,s.bF)(_,null,{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.row.stopwords,(e=>((0,s.uX)(),(0,s.Wv)(g,{key:e},{default:(0,s.k6)((()=>[(0,s.eW)((0,l.v_)(e),1)])),_:2},1024)))),128))])),_:2},1024)])),"body-cell-actions_op":(0,s.k6)((t=>[(0,s.bF)(_,{class:"text-right text-no-wrap"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{flat:"",onClick:o=>e.editStopwordsSet(t.row),icon:"sym_s_edit",title:"Edit"},null,8,["onClick"]),(0,s.bF)(c,{flat:"",color:"negative",onClick:o=>e.deleteStopwordsSet(t.row.id),icon:"sym_s_delete_forever",title:"Delete"},null,8,["onClick"])])),_:2},1024)])),_:1},8,["filter","rows","columns"])])),_:1})}var n=function(e,t,o,s){function l(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,d){function a(e){try{r(s.next(e))}catch(t){d(t)}}function n(e){try{r(s["throw"](e))}catch(t){d(t)}}function r(e){e.done?o(e.value):l(e.value).then(a,n)}r((s=s.apply(e,t||[])).next())}))};const r=(0,s.pM)({name:"Stopwords",data(){return{jsonError:null,stopwordsSet:{id:"stopword_set1",locale:"en",stopwords:["states","united","france","germany","italy"]},expanded:0===this.$store.state.node.data.stopwords.length,filter:"",columns:[{label:"ID",name:"id",field:"id",sortable:!0,align:"left"},{label:"Locale",name:"locale",field:"locale",sortable:!0,align:"left"},{label:"Stopwords",name:"stopwords",field:"stopwords",sortable:!0,align:"left"},{label:"Actions",name:"actions_op",align:"right"}]}},computed:{isUpdate(){return this.$store.state.node.data.stopwords.map((e=>e.id)).includes(this.stopwordsSet.id)}},mounted(){this.$store.dispatch("node/getStopwords")},methods:{createStopwordsSet(){return n(this,void 0,void 0,(function*(){yield this.$store.dispatch("node/upsertStopwords",JSON.parse(JSON.stringify(this.stopwordsSet)))}))},editStopwordsSet(e){this.stopwordsSet=JSON.parse(JSON.stringify(e)),this.expanded=!0},deleteStopwordsSet(e){this.$q.dialog({title:"Confirm",message:`Delete stopwords set ${e}?`,cancel:!0,persistent:!0}).onOk((()=>{this.$store.dispatch("node/deleteStopwords",e)}))}}});var i=o(12807),c=o(77716),p=o(9459),u=o(23316),m=o(44189),w=o(39270),b=o(1693),f=o(75848),h=o(46868),g=o(62669),_=o(39942),S=o(50492),k=o(45262),y=o(66760),v=o(98582),F=o.n(v);const A=(0,i.A)(r,[["render",a]]),q=A;F()(r,"components",{QPage:c.A,QExpansionItem:p.A,QCard:u.A,QCardSection:m.A,QInput:w.A,QBtn:b.A,QSelect:f.A,QBanner:h.A,QCardActions:g.A,QTable:_.A,QIcon:S.A,QTd:k.A,QChip:y.A})}}]);