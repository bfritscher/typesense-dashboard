import{K as Q,u as x,H as v,f as k,A as C,U as u,M as i,O as l,N as o,a3 as N,V as U,a4 as h,a7 as m,S as p,T as c,X as d,$ as f,a9 as E,L as $,a5 as D,a6 as B,W as S,R as I}from"./index--0lAtNsd.js";import{a as O}from"./QSelect-BzrgwpKf.js";import{Q as A}from"./QBanner-CwLly00w.js";import{Q as j,a as q,b as _}from"./QTable-CKVj8KGb.js";import{Q as J}from"./QChip-CZ22uClo.js";import{Q as L}from"./QPage-COg4uAGZ.js";import{u as T}from"./use-quasar-BNtlXdl5.js";import"./QItem-BLH56R8f.js";import"./QList-B3DUIL4Z.js";import"./QLinearProgress-DDEo-qGO.js";const F={class:"text-h6"},ee=Q({__name:"Stopwords",setup(z){const g=T(),a=x(),e=v({jsonError:null,stopwordsSet:{id:"stopword_set1",locale:"en",stopwords:["states","united","france","germany","italy"]},expanded:a.data.stopwords.length===0,filter:"",columns:[{label:"ID",name:"id",field:"id",sortable:!0,align:"left"},{label:"Locale",name:"locale",field:"locale",sortable:!0,align:"left"},{label:"Stopwords",name:"stopwords",field:"stopwords",sortable:!0,align:"left"},{label:"Actions",name:"actions_op",align:"right"}]}),w=k(()=>a.data.stopwords.map(r=>r.id).includes(e.stopwordsSet.id));async function b(){await a.upsertStopwords(JSON.parse(JSON.stringify(e.stopwordsSet)))}function y(r){e.stopwordsSet=JSON.parse(JSON.stringify(r)),e.expanded=!0}function V(r){g.dialog({title:"Confirm",message:`Delete stopwords set ${r}?`,cancel:!0,persistent:!0}).onOk(()=>{a.deleteStopwords(r)})}return C(()=>{a.getStopwords()}),(r,s)=>(i(),u(L,{padding:""},{default:l(()=>[o(j,{modelValue:e.expanded,"onUpdate:modelValue":s[4]||(s[4]=t=>e.expanded=t),"expand-separator":"",icon:"sym_s_add_circle","expand-icon":"sym_s_unfold_more","expanded-icon":"sym_s_unfold_less",label:`${w.value?"Update":"Add"} Stopwords Set`,"header-class":"bg-primary text-white"},{default:l(()=>[o(N,{class:"bg-surface column"},{default:l(()=>[o(h,{class:"q-col-gutter-md row"},{default:l(()=>[o(m,{modelValue:e.stopwordsSet.id,"onUpdate:modelValue":s[0]||(s[0]=t=>e.stopwordsSet.id=t),class:"col-12 col-sm-6",label:"ID",filled:"",rules:[t=>!!t||"Field is required"]},null,8,["modelValue","rules"]),o(m,{modelValue:e.stopwordsSet.locale,"onUpdate:modelValue":s[1]||(s[1]=t=>e.stopwordsSet.locale=t),filled:"",label:"Locale",class:"col-12 col-sm-4"},null,8,["modelValue"]),o(p,{type:"a",icon:"sym_s_help","no-caps":"",color:"info",flat:"",dense:"",href:`https://typesense.org/docs/${c(a).data.debug.version||c(a).data.defaultDocVersion}/api/stopwords.html`,target:"_blank"},{default:l(()=>[...s[6]||(s[6]=[d(" Documentation ",-1)])]),_:1},8,["href"]),o(O,{modelValue:e.stopwordsSet.stopwords,"onUpdate:modelValue":s[2]||(s[2]=t=>e.stopwordsSet.stopwords=t),class:"col-12",filled:"",multiple:"","use-chips":"","use-input":"","new-value-mode":"add","stack-label":"","hide-dropdown-icon":"",label:"Stopwords",hint:"Enter a stopword and press enter"},null,8,["modelValue"])]),_:1}),e.jsonError?(i(),u(A,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:l(()=>[d(" Invalid Format: "+f(e.jsonError),1)]),_:1})):U("",!0),o(E,{align:"right",class:"bg-primary"},{default:l(()=>[o(p,{size:"md",padding:"sm lg",unelevated:"",color:"primary",disable:!!e.jsonError,onClick:s[3]||(s[3]=t=>b())},{default:l(()=>[d(f(w.value?"Update":"Add")+" Set ",1)]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),o(q,{class:"q-mt-md",flat:"",bordered:"","wrap-cells":"",filter:e.filter,rows:c(a).data.stopwords,columns:e.columns,"row-key":"id"},{"top-left":l(()=>[I("div",F,[o(S,{size:"md",name:"sym_s_playlist_remove"}),s[7]||(s[7]=d(" Stopwords Sets ",-1))])]),"top-right":l(()=>[o(m,{modelValue:e.filter,"onUpdate:modelValue":s[5]||(s[5]=t=>e.filter=t),borderless:"",dense:"",debounce:"300",placeholder:"Search"},{append:l(()=>[o(S,{name:"sym_s_search"})]),_:1},8,["modelValue"])]),"body-cell-stopwords":l(t=>[o(_,null,{default:l(()=>[(i(!0),$(D,null,B(t.row.stopwords,n=>(i(),u(J,{key:n},{default:l(()=>[d(f(n),1)]),_:2},1024))),128))]),_:2},1024)]),"body-cell-actions_op":l(t=>[o(_,{class:"text-right text-no-wrap"},{default:l(()=>[o(p,{flat:"",icon:"sym_s_edit",title:"Edit",onClick:n=>y(t.row)},null,8,["onClick"]),o(p,{flat:"",color:"negative",icon:"sym_s_delete_forever",title:"Delete",onClick:n=>V(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:1},8,["filter","rows","columns"])]),_:1}))}});export{ee as default};
